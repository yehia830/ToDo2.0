<html lang="en-US" ng-app="TIYAngularApp">
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="js/tiy-ng-controller.js"></script>
<body ng-controller="SampleController">


{{! changing the mustache delimiter so it doesn't conflict with  }}
{{! the default angularjs delimeters - https://mustache.github.io/mustache.5.html for more info  }}
{{=<% %>=}}

<%^user%>

<%#initialChoice%>
<div style="text-align: center">
    <form action="/sign-up-button" method="post">
        <button type="submit">Sign Up</button>
    </form>

    - or -

    <form action="/login-button" method="post">
        <button type="submit">Login</button>
    </form>
</div>
<%/initialChoice%>

<%#loginTrue%>
<form action="/login" method="post">
    <input type="text" placeholder="Name" name="username">
    <input type="text" placeholder="Password" name="password">
    <button type="submit">Login</button>
</form>
<%/loginTrue%>

<%#signUpTrue%>
<form action="/sign-up" method="post">
    <input type="text" placeholder="Name" name="username">
    <input type="text" placeholder="Password" name="password">
    <button type="submit">Sign Up</button>
</form>
<%/signUpTrue%>

<%/user%>



<%#user%>
Welcome, <%name%>!

<form action="/logout" method="post">
    <button type="submit">Logout</button>
</form>

<input type="button" ng-click="getTodos()" value="Refresh To-Dos"/>

<div style="position: relative; float: left; width: 40%; padding: 20px;">
    <h2>Todo List</h2>
    <ul>
        <li ng-repeat="todo in todos">
            {{todo.text}}- {{todo.done}}
            <button ng-click="deleteTodo(todo.id)">delete</button>
            <button ng-click="toggleTodo(todo.id)">toggle</button>
        </li>
    </ul>
</div>

<div style="position: relative; float: left; width: 100%; padding: 20px;">
    <h1>Enter new todo:</h1>
    <span> <input type="text" ng-model="newToDo.text"/></span>
    <!--<span> <select name="gameGenre" ng-model="newToDo.isDone">-->
    <!--<option selected disabled>isDone</option>-->
    <!--<option value="false">Not done</option>-->

    <!--</select>-->
    <!--</span>-->
    <span> <input type="button" ng-click="addTodos()" value="Create new todo"/></span>
</div>

<%/user%>

</body>
</html>